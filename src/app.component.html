<div class="h-full flex flex-col">
  <!-- Main Content -->
  <main class="flex-1 overflow-hidden relative">
    @if (!showEditor()) {
      <div 
        class="absolute inset-0 flex flex-col items-center justify-center p-6 bg-gray-950"
        (drop)="onDrop($event)"
        (dragover)="onDragOver($event)">
        
        <div class="max-w-md w-full text-center">
          <h1 class="text-4xl font-black text-gray-800 mb-8 tracking-tighter select-none">GridSlice Free</h1>

          <div class="mb-8 relative group cursor-pointer">
            <div class="absolute inset-0 bg-blue-500/20 blur-2xl rounded-full group-hover:bg-blue-500/30 transition-all duration-500"></div>
            
            <label class="relative block w-full aspect-[4/3] rounded-2xl border-2 border-dashed border-gray-800 bg-gray-900/50 hover:border-blue-500 hover:bg-gray-900/80 transition-all duration-300 flex flex-col items-center justify-center cursor-pointer overflow-hidden">
              <input type="file" class="hidden" (change)="onFileSelected($event)" accept="image/png, image/jpeg, image/jpg" multiple>
              
              <div class="p-6 flex flex-col items-center gap-4 transition-transform duration-300 group-hover:scale-105">
                <div class="w-16 h-16 rounded-full bg-gray-800 flex items-center justify-center border border-gray-700">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-blue-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                </div>
                <div>
                  <h3 class="text-lg font-semibold text-white">上傳圖片</h3>
                  <p class="text-gray-400 text-sm mt-1">點擊瀏覽或將檔案拖曳至此 (支援多選)</p>
                </div>
                <div class="flex gap-2 text-xs text-gray-500 bg-gray-800/50 px-3 py-1.5 rounded-full border border-gray-700/50">
                  <span>JPG</span>
                  <span class="w-px h-3 bg-gray-700 my-auto"></span>
                  <span>PNG</span>
                  <span class="w-px h-3 bg-gray-700 my-auto"></span>
                  <span>JPEG</span>
                </div>
              </div>
            </label>
          </div>
        </div>
      </div>
    } @else {
      <app-splitter-editor [initialFiles]="initialFiles()" />
      
      <!-- Floating Start Over Button for Desktop (Hidden on Mobile) -->
      <button 
        (click)="reset()"
        class="hidden lg:flex fixed top-4 z-50 text-xs px-3 py-1.5 rounded-full bg-black/50 hover:bg-black/80 text-white/50 hover:text-white backdrop-blur border border-white/10 transition-colors items-center gap-1.5 left-[340px]">
        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>
        重新開始
      </button>
    }
  </main>
</div>
