<div class="h-full flex flex-col">
  <!-- Header -->
  <header class="bg-gray-900 border-b border-gray-800 h-12 px-4 flex items-center justify-between shrink-0 z-10">
    <div class="flex items-center gap-2">
      <div class="w-6 h-6 bg-blue-600 rounded flex items-center justify-center shadow-lg shadow-blue-900/50">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h6v6H4z"/><path d="M14 4h6v6h-6z"/><path d="M4 14h6v6H4z"/><path d="M14 14h6v6h-6z"/></svg>
      </div>
      <h1 class="text-lg font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">GridSlice Free</h1>
    </div>
    
    @if (showEditor()) {
      <button 
        (click)="reset()"
        class="text-xs px-3 py-1.5 rounded bg-gray-800 hover:bg-gray-700 border border-gray-700 transition-colors flex items-center gap-1.5">
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>
        重新開始
      </button>
    }
  </header>

  <!-- Main Content -->
  <main class="flex-1 overflow-hidden relative">
    @if (!showEditor()) {
      <div 
        class="absolute inset-0 flex flex-col items-center justify-center p-6"
        (drop)="onDrop($event)"
        (dragover)="onDragOver($event)">
        
        <div class="max-w-md w-full text-center">
          <div class="mb-8 relative group cursor-pointer">
            <div class="absolute inset-0 bg-blue-500/20 blur-2xl rounded-full group-hover:bg-blue-500/30 transition-all duration-500"></div>
            
            <label class="relative block w-full aspect-[4/3] rounded-2xl border-2 border-dashed border-gray-700 bg-gray-900/50 hover:border-blue-500 hover:bg-gray-900/80 transition-all duration-300 flex flex-col items-center justify-center cursor-pointer overflow-hidden">
              <input type="file" class="hidden" (change)="onFileSelected($event)" accept="image/png, image/jpeg, image/jpg" multiple>
              
              <div class="p-6 flex flex-col items-center gap-4 transition-transform duration-300 group-hover:scale-105">
                <div class="w-16 h-16 rounded-full bg-gray-800 flex items-center justify-center border border-gray-700">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-blue-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                </div>
                <div>
                  <h3 class="text-lg font-semibold text-white">上傳圖片</h3>
                  <p class="text-gray-400 text-sm mt-1">點擊瀏覽或將檔案拖曳至此 (支援多選)</p>
                </div>
                <div class="flex gap-2 text-xs text-gray-500 bg-gray-800/50 px-3 py-1.5 rounded-full border border-gray-700/50">
                  <span>JPG</span>
                  <span class="w-px h-3 bg-gray-700 my-auto"></span>
                  <span>PNG</span>
                  <span class="w-px h-3 bg-gray-700 my-auto"></span>
                  <span>JPEG</span>
                </div>
              </div>
            </label>
          </div>
        </div>
      </div>
    } @else {
      <app-splitter-editor [initialFiles]="initialFiles()" />
    }
  </main>
</div>